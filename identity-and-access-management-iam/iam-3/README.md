# IAM 역할

**기록 ✍️**

#### author : jung yuha

#### first registered : 2023-06-09 Fri

#### last modified : 2023-06-09 Fri



## \[1] 역할이란 ?

* AWS 리소스에서 사용하는 자격증명
* 특정 AWS 서비스가 다른 AWS 서비스에 액세스 하여 작업을 수행할 때 필요한 권한
  * 예시 : EC2라는 서비스가 AWS 데이터베이스 서비스에 접속을 하기 위해서는 액세스 권한이 필요하다. 따라서 이 인스턴스에 권한을 부여하는 것이 역할을 통해 이루어진다.
* 정책을 연결하여 IAM 역할에 작업 수행에 필요한 권한을 부여한다.

### 그림 예시

AWS 클라우드의 가상서버인 EC2 인스턴스에서 실행되는 애플리케이션이 AWS S3라는 스토리지 서비스 또는 데이터베이스 서비스인 AWS RDS에 액세스한다고 가정한다.

<figure><img src="../../.gitbook/assets/image (32).png" alt=""><figcaption></figcaption></figure>

* 기본적으로 애플리케이션에서 데이터 수정이나 삭제 등의 작업을 할 수가 없다.
*   수정이나 삭제같은 작업을 하기 위해서는 그에 응당한 권한을 부여 받아야 한다.

    &#x20;\=> 이 권한은 "정책"에 정의되어 있다. "정책"은 IAM 역할에 연결된다.
* 따라서 EC2인스턴스를 IAM 역할에 연결하게 되면 IAM 역할은 S3,RDS에 대한 정책을 가지고 있기 때문에 EC2 인스턴스는 그에 맞는 권한을 부여 받을 수 있다.

## \[2] IAM 역할 - 신뢰 정책

* IAM 역할을 사용하여 AWS 계정간 액세스 권한 위임을 하는 기능
* 신뢰정책 (Trust Policy) 을 사용하여 다른 AWS 계정에 역할을 위임할 수 있다.

### 신뢰 정책 사용 문제 예시

#### 질문

회사에는 Production 및 Development 라는 두 개의 AWS 계정이 있습니다.

회사는 Development 계정의 코드 변경 사항을 Production 계정으로 푸시해야 합니다.

알파 단계에서는 개발 팀의 두 명의 개발자만 프로덕션 계정에 액세스할 수 있습니다.

베타 단계에서는 더 많은 개발자가 테스트를 수행하기 위해 액세스 권한이 필요합니다.

#### 솔루션

Production 계정에서 IAM 역할을 생성한다.

이 때 IAM 역할은 코드 변경 사항을 Production 계정으로 푸시하는 권한을 가진다.

그리고 이 IAM 역할을 Development 계정에 위임을 하면 된다.

이 때 위임하는 방법은 Development 계정을 지정하는 신뢰 정책을 정의해서 개발자가 역할을 맡도록 허용한다.
