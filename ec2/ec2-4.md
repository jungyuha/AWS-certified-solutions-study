# EC2 인스턴스 구매 옵션

**기록 ✍️**

#### author : jung yuha

#### first registered : 2023-06-15 Thu

#### last modified : 2023-06-15 Thu



**고객이 사용하는 목적에 따라 여러가지 EC2 옵션을 선택할 수 있다.**

<figure><img src="../.gitbook/assets/image (33) (3) (1).png" alt="" width="144"><figcaption><p><strong>여러가지 EC2 옵션</strong> </p></figcaption></figure>

## \[1] 온디맨드 인스턴스

<figure><img src="../.gitbook/assets/image (7) (1) (1).png" alt=""><figcaption><p> 인스턴스 시작을 누르는 경우 생성되는 기본 인스턴스 유형 </p></figcaption></figure>

* 약정 없이 초당 사용한 만큼만 비용을 지불하는 방식
* 기본적으로 아무런 설정없이 인스턴스를 생성하는 경우 온디맨스 인스턴스가 생성된다.
  * AWS 콘솔창 이동 > 인스턴스 시작을 누르는 경우 생성되는 기본 인스턴스 유형이다.
* 처음 60 초 이후 초당 과금
* 장기 약정이나 선 결제가 없음
* 단기간 동안 예측할 수 없는 워크로드에 적합하다.
* 중단되어서는 안되는 애플리케이션에 적합하다.
* EC2에서 처음으로 개발 중이거나 시험 중인 애플리케이션 사용에 적합하다.
  * 단기간 사용을 할 수 있으며 언제든 종료할 수 있기 때문이다. 다만 좀 비용이 있는편이다.

## \[2] 스팟 인스턴스

* AWS 데이터센터에 있는 서버중에 사용을 안하는 중인 인스턴스(서버)들을 경매 방식으로 구매하여 사용하는 것
* AWS 데이터센터에 있는 사용하지 않는 예비 EC2 용량을 경매방식으로 구매하여 사용하는 방식
  * 여러 사용자가 사용하고자 하는 예비 용량을 가장 비싼 가격으로 입찰하는 사람이 사용하게 되는 구조
  * 해당 용량을 온디맨스 인스턴스나 예약 인스턴스에 사용하거나 더 비싼가격에 입찰하는 사용자가 생기는 경우 현재 사용하고 있는 인스턴스가 정지되거나 종료된다.
  * 따라서 애플리케이션이 항상 실행되는 게 아니라 언제든지 시작 및 종료가 가능해야 한다.
* 온디맨드 인스턴스보다 최대 90% 저렴
* 경매 조건에 미달하면 인스턴스가 정지 또는 종료 되므로 언제든지 시작 및 종료가 가능한 경우에 사용
* 언제든 인스턴스가 종료될 수 있기 때문에 서버가 중단없이 지속적으로 실행 되어야하는 경우 사용 안함
  * 이 떄는 온디맨드나 예약 인스턴스를 사용한다.
* 여러 개의 스팟 인스턴스를 하나의 그룹으로 묶어 스팟 집합 (Spot Fleets) 으로 구매해서 사용
* 가격이 저렴하기 때문에 컴퓨팅 파워가 많이 필요한 경우 이와같이 Spot Fleets으로 묶어서 프로세싱을 하게되면 저렴한 가격으로 컴퓨팅 파워를 얻을 수 있다.
* 예약 인스턴스 + 스팟 인스턴스 짧은 시간 급격하게 증가된 용량이 필요한 경우 의 조합으로 사용
* AWS 콘솚창 이동 > 왼쪽 메뉴 > 스팟 요청 을 클릭하여 만들 수 있다.

## \[3] 예약 인스턴스

* 1년 또는 3년 기간을 약정하여 인스턴스를 사용
* 온디맨드에 비해 최대 75% 저렴
* 수요가 꾸준하고 예측가능한 경우에 유용
* 결제옵션은 전체 선결제 , 부분 선결제 , 선결제 없음 3 가지 선택 가능
  * 3년 약정 + 전체 선결제가 가장 저렴할것이다.
* AWS 콘솚창 이동 > 왼쪽 메뉴 > 예약 인스턴스를 클릭하여 만들 수 있다.
  * 비용이 들어가므로 실습에서 제외한다.

### 선택가능한 예약 인스턴스 유형

#### 표준 예약 인스턴스 (Standard Reserved Instances)

* 예약을 할 때 인스턴스 타입을 지정한다.
* 인스턴스 타입을 지정하면 예약기간동안 변경 불가능
* 인스턴스 타입은 CPU나 메모리 등의 하드웨어 사양같은 것을 의미한다.

#### 전환형 예약 인스턴스 (Convertible Reserved Instances)&#x20;

* 예약기간동안 인스턴스 타입 변경가능

#### 정기 예약 인스턴스 Scheduled Reserved Instances) Instances)

* 지정된 시간 , 날짜 동안에만 인스턴스를 예약 구매 한다.
* 지정 기간에만 인스턴스가 시작되어 사용된다.
* 반복적으로 하루의 특정 시간이나 , 한 주 또는 한달의 일부 기간 동안에만 인스턴스가 필요한 경우에 적합하다.

## \[4] Saving Plans

* 기간만 약정을 두는 게 아니라 사용량도 약정을 둔다.
* 1년 또는 3년 기간의 일정 사용량을 약정하여 시간당 요금으로 인스턴스를 사용
* EC2뿐만 아니라 Lambda 및 Fargate 서비스도 사용 가능
* 사용량은 시간당 USD 요금으로 측정
* 특정 사용량을 걸어서 사용량에 따라 요금을 과금한다.
  * 예를 들어 한 시간에 $5 의 컴퓨팅 사용량을 약정하면 $5 까지 Saving Plans 가격이 청구 되고 초과 사용량 은 온디맨드 요금이 청구 됨
* 온디맨드에 비해 최대 66\~72% 저렴하다.
* Compute Saving Plans와 EC2 Instance Saving Plans 두가지 유형이 있음
* 예약 인스턴스와 달리 EC2 인스턴스 패밀리 , 인스턴스 사이즈 , 리전 , OS 관계 없이 적용 및 변경 가능한 유연성이 있음
* AWS 콘솔창 이동 > 왼쪽 메뉴 > Saving Plans 를 클릭하여 만들 수 있다.
  * 비용이 들어가므로 실습에서 제외한다.

## \[5] 전용 호스트/전용 인스턴스

* 물리적인 전용 서버를 할당 받아 사용하는 방식
* 일반적으로 인스턴스를 사용하는 경우 어떤 하드웨어에서 해당 가상머신을 사용할 건지에 대한 결정을 할 수가 없다. AWS에서 임의로 지정하기 때문이다.
* 하지만 이와 다르게 전용 호스트/전용 인스턴스 옵션은 전용 물리적 서버를 할당 받아서 인스턴스를 사용하는 방법이다.
* AWS 콘솔창 이동 > 왼쪽 메뉴 > 전용 호스트를 클릭하여 만들 수 있다.
  * 비용이 들어가므로 실습에서 제외한다.

### 전용 호스트

* 물리적인 전용 서버를 할당 받아 사용하는 방식
* CPU 소켓 , 코어 등이 표시 됨
* 사용자가 인스턴스를 데이터 센터 어디에 지정할건지에 대한 인스턴스 배치 방법을 지정할 수 있다.
* 소켓당 , 코어당 또는 VM 당으로 사용하는 소프트웨어 라이선스 사용 가능
  * 라이센스 비용을 절약할 수 있다. 온디맨드 인스턴스,예약 인스턴스보다 가격은 비싸지만 라이센스가 매우 비싼 경우 전용 호스트를 통해 전체적인 비용을 절감할 수 있다.
* CPU 코어나 물리적 서버에 할당되는 라이선스를 기존에 보유한 경우에 적합하다.

### 전용 인스턴스

* 물리적인 전용 서버를 할당 받아 사용하는 방식
* 전용 호스트에서 사용가능한 CPU 코어 , 인스턴스 배치 , 사용자 라이선스 사용 불가
